/* ================================================================== */
/* Top Tabs Theme - Styles for the main editor tabs and CodeArea. */
/* ================================================================== */

/* General Tab Pane Styles */
.tab-pane {
    -fx-tab-min-width: 0;
}

.tab-pane .tab-header-area {
    -fx-padding: 0;
}

.tab-pane .tab-header-background {
    -fx-background-color: #252526;
}

.tab-pane .tab {
    -fx-background-color: transparent;
    -fx-border-color: transparent #3c3c3c;
    -fx-border-width: 0 0 1px 0;
    -fx-padding: 4px 8px 4px 16px;
    -fx-background-insets: 0;
    -fx-background-radius: 0;
    -fx-focus-color: transparent;
    -fx-faint-focus-color: transparent;
}

.tab-pane .tab:selected {
    -fx-background-color: #1e1e1e;
    -fx-border-color: #cccccc;
    -fx-border-width: 0 0 1px 0;
}

.tab-pane .tab .tab-label {
    -fx-text-fill: #999999;
    -fx-font-size: 13px;
    -fx-padding: 0 10px 0 0;
}

.tab-pane .tab .tab-label {
    -fx-text-fill: #999999;
    -fx-font-size: 13px;
    -fx-padding: 0 10px 0 0;
}

.tab-pane .tab:selected .tab-label {
    -fx-text-fill: #ffffff;
}

.drag-preview-tab {
    -fx-background-color: rgba(200, 200, 200, 0.3);
    -fx-border-color: rgba(200, 200, 200, 0.8);
    -fx-border-style: dashed;
    -fx-border-width: 2px;
    -fx-min-width: 100px;
    -fx-min-height: 25px;
    -fx-pref-width: 100px;
    -fx-pref-height: 25px;
}

.tab-error-count {
    -fx-font-size: 12px;
    -fx-font-weight: bold;
    -fx-text-fill: #cccccc; /* 기본 상태에서는 일반 텍스트 색상 */
    -fx-padding: 0 0 0 5px; /* 파일 이름과의 간격 */
}

.tab-error-count.has-errors {
    -fx-text-fill: #ff8a8a; /* 에러가 있을 때의 색상 */
}

.tab-pane .tab .tab-close-button {
    -fx-background-color: #9b9b9b;
    -fx-padding: 4;
    -fx-cursor: hand;
    -fx-opacity: 1;
}

.tab-pane .tab .tab-close-button:hover {
    -fx-background-color: #dadada;
    -fx-background-radius: 2px;
}

/* RichTextFX CodeArea Styles */
.code-area {
    -fx-background-color: #1e1e1e;
    -fx-padding: 0, 0, 4px, 0;
}

.code-area .text {
    -fx-fill: #d4d4d4;
}

.code-area .lineno {
    /* 배경색, 정렬 등은 그대로 유지합니다. */
    -fx-background-color: transparent;
    -fx-alignment: CENTER_RIGHT; 
}

.code-area .paragraph-box {
    /* 
     * (A) 모든 줄에 동일한 상하 패딩을 주어 "일관된 높이"를 만듭니다.
     *     이것이 움찔거림을 방지합니다.
    */
    -fx-padding: 2px 0;

    /* 
     * (B) Flexbox를 사용하여 내부의 텍스트(.text)를 "수직 중앙 정렬"합니다.
     *     이것이 커서와 배경의 높이를 완벽하게 맞춥니다.
    */
    -fx-display: flex;
    -fx-alignment: center-left;
}
.code-area .paragraph-box:has-caret {
    -fx-background-color: #252525;
}

.code-area .caret {
    /* 커서의 색상만 남겨둡니다. 모양, 높이, 두께는 Java가 제어합니다. */
    -fx-stroke: #d4d4d4;
}

.code-area .selection {
    -fx-fill: #2e5b88;
}


/* Scroll Bar Styles */

.editor-scroll-pane .scroll-bar {
    -fx-background-color: transparent;
    -fx-background-insets: 0;
    -fx-border-width: 0 0 0 1px; /* 상 우 하 좌 (공백으로 구분) */
    -fx-border-color: black;
}

.editor-scroll-pane .scroll-bar .track {
    -fx-background-color: transparent;
    
    
    /* 만약을 위해 트랙의 배경 여백도 0으로 설정하여 꽉 채웁니다. */
    -fx-background-insets: 0;
}

.editor-scroll-pane .scroll-bar .thumb {
    -fx-background-color: #38383860;
    -fx-background-insets: 0;
    -fx-background-radius: 0;
}

.editor-scroll-pane .scroll-bar .thumb:hover {
    -fx-background-color: #3d3d3db6; 
}

.editor-scroll-pane .scroll-bar .increment-button,
.editor-scroll-pane .scroll-bar .decrement-button {
    -fx-background-color: transparent;
    -fx-background-radius: 0;
    -fx-padding: 0;
    -fx-font-size: 0;
    -fx-min-width: 0;
    -fx-max-width: 0;
    -fx-pref-width: 0;
    -fx-min-height: 0;
    -fx-max-height: 0;
    -fx-pref-height: 0;
}

/* ★★★ 핵심 해결책 ★★★ */
.editor-scroll-pane .scroll-bar:vertical {
    -fx-pref-width: 15px;
    -fx-padding: 0;
}

/* 수평 스크롤바도 동일하게 처리하려면 추가합니다. */
.editor-scroll-pane .scroll-bar:horizontal {
    -fx-pref-height: 15px;
    -fx-padding: 0;
}

/* Syntax Highlighting */
.text.comment { -fx-fill: #6A9555; }
.text.string { -fx-fill: #CE9178; }
.text.numeric { -fx-fill: #b0e792; }
.text.language-constant { -fx-fill: #569CD6; }
.text.keyword-control { -fx-fill: #C586C0; }
.text.storage-modifier { -fx-fill: #569CD6; }
.text.entity-name-type,
.text.storage-type { -fx-fill: #71e2b5; }
.text.entity-name-function { -fx-fill: #ffffa9; }
.text.variable { -fx-fill: #a7f0fc;}
.text.bracket-highlight {
    -rtfx-background-color: rgba(129, 129, 129, 0.315);
}

/* Bracket Pair Colorization */
.text.bracket-pair-1 { -fx-fill: #569CD6; } /* Blue */
.text.bracket-pair-2 { -fx-fill: #FFD700; } /* Yellow */
.text.bracket-pair-3 { -fx-fill: #C586C0; } /* Purple */

.text.search-highlight {
    -rtfx-background-color: rgba(255, 145, 0, 0.479);
}

.predictive-highlight-test {
    -rtfx-background-color: yellow; /* 눈에 확 띄는 노란색 배경 */
    -fx-text-fill: black;
}



/* Error Highlighting */
.tab-label-error { -fx-text-fill: #ff6666; }

.lineno {
    -fx-text-fill: #585858; /* 기본 라인 색상 */
}
.lineno.current-line {
    -fx-text-fill: #d4d4d4; /* 현재 커서 라인 색상 */
}
.lineno.lineno-error {
    -fx-text-fill: #ff6666 !important; /* 색상 규칙은 잠시 주석 처리 */
}

/* Error Tooltip */
.error-tooltip {
    -fx-font-size: 12px;
    -fx-background-color: #333333;
    -fx-text-fill: #ff6666;
    -fx-background-radius: 4px;
    -fx-border-color: #555555;
    -fx-border-radius: 4px;
    -fx-padding: 5px;
}





.label, .text, .button, .menu-item .label, .menu .label {
    -fx-text-fill: #cccccc;
}



/* Settings View Styles */
.settings-view {
    -fx-background-color: #1e1e1e;
}

/* --- 왼쪽 메뉴 영역 --- */
.settings-left-menu {
    -fx-background-color: #1e1e1e;
    -fx-padding: 10px 0; /* 상하 여백만 줌 */
    -fx-min-width: 180;
    -fx-border-color: transparent #333333 transparent transparent;
    -fx-border-width: 1;
}

/* --- ListView 자체의 스타일 --- */
.settings-menu-list {
    -fx-background-color: transparent; /* 배경을 투명하게 하여 부모 색상을 따름 */
}

/* --- ListView의 각 셀(항목) 스타일 --- */
.settings-menu-list .list-cell {
    -fx-background-color: transparent;
    -fx-text-fill: #cccccc;
    -fx-font-size: 13px;
    -fx-padding: 8 12 8 20; /* 왼쪽에 여유 공간을 더 줌 */
    -fx-background-insets: 0; /* 선택 시 배경이 꽉 차도록 */
}

/* 셀에 마우스가 올라갔을 때 */
.settings-menu-list .list-cell:filled:hover {
    -fx-background-color: #2a2d2e;
}

/* 셀이 선택되었을 때 */
.settings-menu-list .list-cell:selected {
    -fx-background-color: #094771; /* VSCode의 선택된 리스트 배경색 */
    -fx-text-fill: white;
}



/* --- 오른쪽 콘텐츠 영역 --- */
.settings-content-area {
    -fx-background-color: #1e1e1e;
    -fx-padding: 10 30; /* 상하 패딩 줄이고, 좌우 늘림 */
}

/* --- 개별 설정 항목을 감싸는 컨테이너 --- */
.setting-item {
    -fx-padding: 12 0; /* 각 설정 항목의 상하 간격 */
}

/* --- 설정 항목의 제목 (Key)과 입력 컨트롤(TextField)을 담는 HBox --- */
.setting-item-control-box {
    -fx-alignment: center-left;
    -fx-spacing: 10;
}

/* --- 설정 항목의 제목 라벨 (기존 스타일 반영) --- */
.setting-item-label {
    -fx-text-fill: #cccccc;
    -fx-font-size: 13px;
    -fx-alignment: center-right;
    -fx-pref-width: 120; /* 너비 고정으로 정렬 효과 */
    -fx-min-width: 120;
}
.setting-item-label.run-config {
    -fx-alignment: center-left;
}

/* --- 설정 설명 라벨 --- */
.setting-item-description {
    -fx-text-fill: #808080; /* 회색으로 중요도 낮춤 */
    -fx-font-size: 12px;
    -fx-padding: 4 0 0 130; /* 제목 라벨 너비(120) + 간격(10) 만큼 왼쪽 패딩 */
}

.setting-item-description.run-config {
    -fx-alignment:center-right;
    -fx-padding: 0; /* 제목 라벨 너비(120) + 간격(10) 만큼 왼쪽 패딩 */
}

/* --- 텍스트 필드 (기존 스타일 반영) --- */
.setting-item-textfield {
    -fx-background-color: #3c3c3c;
    -fx-text-fill: #cccccc;
    -fx-border-color: transparent; /* 평소에는 테두리 없음 */
    -fx-border-width: 1.5;
    -fx-border-radius: 3;
    -fx-background-radius: 3;
    -fx-pref-width: 250; /* 너비 고정 */
}

.setting-item-textarea {
    -fx-background-color: #3c3c3c; /* 바깥 상자는 투명하게 */
    -fx-border-color: transparent;
    -fx-border-width: 1.5;
    -fx-focus-color: transparent;
    -fx-faint-focus-color: transparent;
    -fx-border-radius: 6;
    -fx-background-radius: 6;
    -fx-effect: null;
}

.setting-item-textarea .content {
    -fx-background-color: #3c3c3c; /* 안쪽 상자에 배경색 적용 */
    -fx-text-fill: #d4d4d4;
    -fx-border-width: 0;
    -fx-background-radius: 6;
}
.setting-item-textarea:focused {
    -fx-border-color: #007acc; /* 포커스 시 파란 테두리 */
    -fx-border-width: 1.5;
    -fx-border-radius: 6;
    -fx-background-radius: 6;
}


.setting-item-textfield:focused {
    -fx-border-color: #007acc; /* 포커스 시 파란 테두리 */
    -fx-border-width: 1.5;
    -fx-border-radius: 3;
    -fx-background-radius: 3;
}


/* --- 하단 버튼 바 --- */
.settings-button-bar {
    -fx-background-color: #1e1e1e;
    -fx-padding: 15;
    -fx-border-color: transparent; /* 위쪽에만 구분선 */
    -fx-border-width: 1;
}

/* --- 스크롤 팬 투명화 (기존 스타일 유지) --- */
.settings-view .scroll-pane {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
}
.settings-view .scroll-pane .viewport {
    -fx-background-color: transparent;
}

.error-highlight {
    -fx-border-color: rgba(165, 1, 1, 0.808);
    -fx-border-width: 1.5px;
    -fx-border-radius: 6px;
}



/* ================================================================== */
/* Remote Cursor Styles                                             */
/* ================================================================== */

.remote-cursor-line {
    -fx-stroke-width: 2;
}

.remote-cursor-label {
    -fx-text-fill: white;
    -fx-padding: 1 3 1 3;
    -fx-font-size: 10px;
    -fx-font-family: "Arial", sans-serif; /* Use a more readable font for the label */
    -fx-background-radius: 2;
}