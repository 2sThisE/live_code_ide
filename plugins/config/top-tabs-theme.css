/* ================================================================== */
/* Top Tabs Theme - Styles for the main editor tabs and CodeArea. */
/* ================================================================== */

/* General Tab Pane Styles */
.tab-pane {
    -fx-tab-min-width: 0;
}

.tab-pane .tab-header-area {
    -fx-padding: 0;
}

.tab-pane .tab-header-background {
    -fx-background-color: #252526;
}

.tab-pane .tab {
    -fx-background-color: transparent;
    -fx-border-color: transparent #3c3c3c;
    -fx-border-width: 0 0 1px 0;
    -fx-padding: 4px 8px 4px 16px;
    -fx-background-insets: 0;
    -fx-background-radius: 0;
    -fx-focus-color: transparent;
    -fx-faint-focus-color: transparent;
}

.tab-pane .tab:selected {
    -fx-background-color: #1e1e1e;
    -fx-border-color: #cccccc;
    -fx-border-width: 0 0 1px 0;
}

.tab-pane .tab .tab-label {
    -fx-text-fill: #999999;
    -fx-font-size: 13px;
    -fx-padding: 0 10px 0 0;
}

.tab-pane .tab .tab-label {
    -fx-text-fill: #999999;
    -fx-font-size: 13px;
    -fx-padding: 0 10px 0 0;
}

.tab-pane .tab:selected .tab-label {
    -fx-text-fill: #ffffff;
}

.tab-error-count {
    -fx-font-size: 12px;
    -fx-font-weight: bold;
    -fx-text-fill: #cccccc; /* 기본 상태에서는 일반 텍스트 색상 */
    -fx-padding: 0 0 0 5px; /* 파일 이름과의 간격 */
}

.tab-error-count.has-errors {
    -fx-text-fill: #ff8a8a; /* 에러가 있을 때의 색상 */
}

.tab-pane .tab .tab-close-button {
    -fx-background-color: #9b9b9b;
    -fx-padding: 4;
    -fx-cursor: hand;
    -fx-opacity: 1;
}

.tab-pane .tab .tab-close-button:hover {
    -fx-background-color: #dadada;
    -fx-background-radius: 2px;
}

/* RichTextFX CodeArea Styles */
.code-area {
    -fx-background-color: #1e1e1e;
    -fx-padding: 0, 0, 4px, 0;
}

.code-area .text {
    -fx-fill: #d4d4d4;
}

.code-area .lineno {
    /* 배경색, 정렬 등은 그대로 유지합니다. */
    -fx-background-color: transparent;
    -fx-alignment: CENTER_RIGHT; 
}

.code-area .paragraph-box {
    /* 
     * (A) 모든 줄에 동일한 상하 패딩을 주어 "일관된 높이"를 만듭니다.
     *     이것이 움찔거림을 방지합니다.
    */
    -fx-padding: 2px 0;

    /* 
     * (B) Flexbox를 사용하여 내부의 텍스트(.text)를 "수직 중앙 정렬"합니다.
     *     이것이 커서와 배경의 높이를 완벽하게 맞춥니다.
    */
    -fx-display: flex;
    -fx-alignment: center-left;
}
.code-area .paragraph-box:has-caret {
    -fx-background-color: #252525;
}

.code-area .caret {
    /* 커서의 색상만 남겨둡니다. 모양, 높이, 두께는 Java가 제어합니다. */
    -fx-stroke: #d4d4d4;
}

.code-area .selection {
    -fx-fill: #2e5b88;
}


/* Scroll Bar Styles */

.editor-scroll-pane .scroll-bar {
    -fx-background-color: transparent;
    -fx-background-insets: 0;
    -fx-border-width: 0 0 0 1px; /* 상 우 하 좌 (공백으로 구분) */
    -fx-border-color: black;
}

.editor-scroll-pane .scroll-bar .track {
    -fx-background-color: transparent;
    
    
    /* 만약을 위해 트랙의 배경 여백도 0으로 설정하여 꽉 채웁니다. */
    -fx-background-insets: 0;
}

.editor-scroll-pane .scroll-bar .thumb {
    -fx-background-color: #38383860;
    -fx-background-insets: 0;
    -fx-background-radius: 0;
}

.editor-scroll-pane .scroll-bar .thumb:hover {
    -fx-background-color: #3d3d3db6; 
}

.editor-scroll-pane .scroll-bar .increment-button,
.editor-scroll-pane .scroll-bar .decrement-button {
    -fx-background-color: transparent;
    -fx-background-radius: 0;
    -fx-padding: 0;
    -fx-font-size: 0;
    -fx-min-width: 0;
    -fx-max-width: 0;
    -fx-pref-width: 0;
    -fx-min-height: 0;
    -fx-max-height: 0;
    -fx-pref-height: 0;
}

/* ★★★ 핵심 해결책 ★★★ */
.editor-scroll-pane .scroll-bar:vertical {
    -fx-pref-width: 15px;
    -fx-padding: 0;
}

/* 수평 스크롤바도 동일하게 처리하려면 추가합니다. */
.editor-scroll-pane .scroll-bar:horizontal {
    -fx-pref-height: 15px;
    -fx-padding: 0;
}

/* Syntax Highlighting */
.text.comment { -fx-fill: #6A9555; }
.text.string { -fx-fill: #CE9178; }
.text.numeric { -fx-fill: #b0e792; }
.text.language-constant { -fx-fill: #569CD6; }
.text.keyword-control { -fx-fill: #C586C0; }
.text.storage-modifier { -fx-fill: #569CD6; }
.text.entity-name-type,
.text.storage-type { -fx-fill: #71e2b5; }
.text.entity-name-function { -fx-fill: #ffffa9; }
.text.variable { -fx-fill: #a7f0fc;}


/* Suggestion List View */


/* Error Highlighting */
.tab-label-error { -fx-text-fill: #ff6666; }

.lineno {
    -fx-text-fill: #585858; /* 기본 라인 색상 */
}
.lineno.current-line {
    -fx-text-fill: #d4d4d4; /* 현재 커서 라인 색상 */
}
.lineno.lineno-error {
    -fx-text-fill: #ff6666 !important; /* 색상 규칙은 잠시 주석 처리 */
}

/* Error Tooltip */
.error-tooltip {
    -fx-font-size: 12px;
    -fx-background-color: #333333;
    -fx-text-fill: #ff6666;
    -fx-background-radius: 4px;
    -fx-border-color: #555555;
    -fx-border-radius: 4px;
    -fx-padding: 5px;
}
